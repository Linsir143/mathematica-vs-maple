

###### *这是翻译

# Mathematica的符号计算(尤其是多项式计算)能力弱于 Maple 吗？

我使用 Mathematica 已经有一段时间了，虽然我认为它非常优秀，但在符号计算方面（尽管仍比 Matlab 好很多），它在很多地方确实不如 Maple。
以下是几个例子（基于 Mathematica 14.2 和 Maple 2024）：

1. 

```mathematica
Expand[Times @@ (x - Tuples[{-1, 1}, Length@#] . # &[
     Sqrt@{2, 3, 5, 7, 11}])];
Factor[%, Extension -> {Sqrt[2], Sqrt[3], Sqrt[5]}]; // AbsoluteTiming
(* maple code:
restart:
f := expand(foldl((a, b) -> eval(a, x = x + b)*eval(a, x = x - b), x, seq(sqrt(ithprime(i)), i = 1 .. 5))):
time[real](factor(f, [sqrt(2), sqrt(3), sqrt(5)])); 
*)
```

在因式分解方面，Mathematica 需要约 10 秒才能计算出结果，而 Maple 在不到 1 秒内就完成了。

2. 

```mathematica
ClearSystemCache[];
MinimalPolynomial[2^(1/2)+2^(1/3)+2^(1/5) +2^(1/7),x];//AbsoluteTiming
(* maple code:
restart:
time[real](evala(Norm(convert(2^(1/2) + 2^(1/3) + 2^(1/5) + 2^(1/7), RootOf) - x)))
*)
```

在这个例子中，Mathematica 计算耗时超过 5 秒，而且它的 `MinimalPolynomial` 函数不支持计算形如 `Sqrt[x]+Sqrt[y]+Sqrt[z]` 这类符号表达式的最小多项式。而 Maple 几乎瞬间（0.2 秒内）就给出了结果。

3.

```mathematica
Minimize[
  Sqrt[2 a^2 - 8 a + 10] + Sqrt[b^2 - 6 b + 10] + 
   Sqrt[2 a^2 - 2 a b + b^2], {a, b}] // AbsoluteTiming
Minimize[
  Sqrt[x^2 + (y - 1)^2] + Sqrt[(x - 1)^2 + y^2] + 
   Sqrt[(x + 1)^2 + y^2], {x, y}] // AbsoluteTiming
(*maple code:
restart:
time[real](simplify(minimize(sqrt(2*a^2-8*a+10)+sqrt(b^2-6*b+10)+sqrt(2*a^2-2*a*b+b^2), [a, b])),
simplify(minimize(sqrt(x^2+(y-1)^2)+sqrt((x-1)^2+y^2)+sqrt((x+1)^2+y^2), [x, y])))
*)
```

在数值解计算方面它速度很快，但在精确解求解时却异常缓慢。而 Maple 仅用约 2 秒就完成了整个计算过程。

就多项式相关运算而言，Mathematica 在很多方面都慢于 Maple。例如：

4.

```mathematica
(*Expand*)
Expand[Sum[i x[i], {i, 1, 12}]^12]; // AbsoluteTiming
(*maple code:
restart:
time[real](expand(sum(i*x[i], i = 1 .. 12)^12)) 
*)
(* about 4.4s and 0.4s*)
Expand[(2x+3y+4z)^50 (5x+6y+7z)^51 (8x+9y+10z)^52];//AbsoluteTiming
(*maple code:
restart:
time[real](expand((2*x + 3*y + 4*z)^50*(5*x + 6*y + 7*z)^51*(8*x + 9*y + 10*z)^52))
*)
(*about 1.5s and 0.15s*)
```

5.

```mathematica
(*Factor*)
PolynomialMod[(-2826*x^12-8790+x^6*(6631-4230*y)-8419*y+5267*y^2+8182*y^3-3940*y^4-2386*y^5+x*(-6026*y^5+1622*y^4-6940*y^3-1813*y^2-6030*y-7923))^2*(((9756*x^30-6880*y^5+3699*y^4+1340*y^3-9362*y^2+2794*y+5059)-2578)+x*(-3125*y^5+3550*y^4-6425*y^3+127*y^2+7206*y-899)),-84568-10331 y-91710 y^2-79947 y^3+38747 y^4-97554 y^5+55518 y^6] //Factor[#,Modulus->-84568-10331 y-91710 y^2-79947 y^3+38747 y^4-97554 y^5+55518 y^6]&;//AbsoluteTiming
(*maple code:
restart:
f := (-8790 - 2826*x^12 + x^6*(6631 - 4230*y) - 8419*y + 5267*y^2 + 8182*y^3 - 3940*y^4 - 2386*y^5 + x*(-6026*y^5 + 1622*y^4 - 6940*y^3 - 1813*y^2 - 6030*y - 7923))^2*(((9756*x^30 - 6880*y^5 + 3699*y^4 + 1340*y^3 - 9362*y^2 + 2794*y + 5059) - 2578) + x*(-3125*y^5 + 3550*y^4 - 6425*y^3 + 127*y^2 + 7206*y - 899)):
time[real](evala(Factor(subs(y = RootOf(55518*y^6 - 97554*y^5 + 38747*y^4 - 79947*y^3 - 91710*y^2 - 10331*y - 84568), rem(f, 55518*y^6 - 97554*y^5 + 38747*y^4 - 79947*y^3 - 91710*y^2 - 10331*y - 84568, y)))))
*)
(*about 70s and 0.2s*)
```

6.

```mathematica
(*PolynomialGCD*)
PolynomialGCD[2140562698718732140814186601134305108361857809490-2784610594523673638484774509153686569751130624770 x+3858489651140979026284638768361566754023704101963 x^2-286771157043724591851751736007270812641162273605 x^3+1040070357631236974043798352460064492096759420031 x^4+527961813592576990225122032458485764714353948184 x^5-223657724243176368425265508444964464071309890719 x^6-3733131181727340801070133191959530969316170794800 x^30+10745497692902796595974970291342011573796136255136 x^31-7905771579741612232706547483087384561886791433680 x^32+1395228177175535320672887161804454665548111711824 x^33-5230961365618779655379147055541516478070736328364 x^34-3706780992584927498391542297913941634360275844528 x^35-11678244373494087080209876359797173892928099938592 x^60-5514859882567035785577006631456739844414574289760 x^61-21295212021140539667882396747720054113720182080880 x^62-21789643204816141848070620182749478757088623737712 x^63-4720988527381715377218961193451142849496347654320 x^64-27444066359527368757788068859219000443573584940160 x^90-33565578213248720198933124767949411665123563970688 x^91-26098925852445627183784692986363859867173544281664 x^92-7417015118303371350476354681923558088324668065600 x^93-26712940739577401605838204365261893824578131755520 x^120-21489656182324275196520668674864724640109707593728 x^121-3537371331357954585225002235363286524220979284224 x^122-7370705120862668705991302948457148370726768590848 x^150-3449161085875451377293133065291672477113785516032 x^151+454778382410716370295091942238975349531795652608 x^180,(-2826*x^12-8790+x^6*(6631-4230*y)-8419*y+5267*y^2+8182*y^3-3940*y^4-2386*y^5+x*(-6026*y^5+1622*y^4-6940*y^3-1813*y^2-6030*y-7923))^2*(((9756*x^30-6880*y^5+3699*y^4+1340*y^3-9362*y^2+2794*y+5059)-2578)+x*(-3125*y^5+3550*y^4-6425*y^3+127*y^2+7206*y-899))//Expand,Modulus->-84568-10331 y-91710 y^2-79947 y^3+38747 y^4-97554 y^5+55518 y^6]//AbsoluteTiming
(*maple code:
restart:
time[real](evala(Gcd(454778382410716370295091942238975349531795652608*x^180 - 3449161085875451377293133065291672477113785516032*x^151 - 7370705120862668705991302948457148370726768590848*x^150 - 3537371331357954585225002235363286524220979284224*x^122 - 21489656182324275196520668674864724640109707593728*x^121 - 26712940739577401605838204365261893824578131755520*x^120 - 7417015118303371350476354681923558088324668065600*x^93 - 26098925852445627183784692986363859867173544281664*x^92 - 33565578213248720198933124767949411665123563970688*x^91 - 27444066359527368757788068859219000443573584940160*x^90 - 4720988527381715377218961193451142849496347654320*x^64 - 21789643204816141848070620182749478757088623737712*x^63 - 21295212021140539667882396747720054113720182080880*x^62 - 5514859882567035785577006631456739844414574289760*x^61 - 11678244373494087080209876359797173892928099938592*x^60 - 3706780992584927498391542297913941634360275844528*x^35 - 5230961365618779655379147055541516478070736328364*x^34 + 1395228177175535320672887161804454665548111711824*x^33 - 7905771579741612232706547483087384561886791433680*x^32 + 10745497692902796595974970291342011573796136255136*x^31 - 3733131181727340801070133191959530969316170794800*x^30 - 223657724243176368425265508444964464071309890719*x^6 + 527961813592576990225122032458485764714353948184*x^5 + 1040070357631236974043798352460064492096759420031*x^4 - 286771157043724591851751736007270812641162273605*x^3 + 3858489651140979026284638768361566754023704101963*x^2 - 2784610594523673638484774509153686569751130624770*x + 2140562698718732140814186601134305108361857809490, subs(y = RootOf(55518*y^6 - 97554*y^5 + 38747*y^4 - 79947*y^3 - 91710*y^2 - 10331*y - 84568), (-2826*x^12 - 8790 + x^6*(6631 - 4230*y) - 8419*y + 5267*y^2 + 8182*y^3 - 3940*y^4 - 2386*y^5 + x*(-6026*y^5 + 1622*y^4 - 6940*y^3 - 1813*y^2 - 6030*y - 7923))^2*(((9756*x^30 - 6880*y^5 + 3699*y^4 + 1340*y^3 - 9362*y^2 + 2794*y + 5059) - 2578) + x*(-3125*y^5 + 3550*y^4 - 6425*y^3 + 127*y^2 + 7206*y - 899))))));
*)
(*about 410.561s and 0.025s*)
```

7.

```mathematica
(*Resultant/Discriminant*)
f=-10-8 x+x^2+3 x^3-6 x^4-8 x^5-2 x^6+7 x^7+2 x^8+x^33+5 x^34+9 x^35-x^36-8 x^37-x^47-2 x^48+x^49+(6+x-9 x^3+7 x^4-10 x^5-5 x^6+9 x^7+6 x^8+x^9+2 x^10-10 x^11+3 x^12-5 x^38-6 x^39-7 x^40+10 x^41+x^42+6 x^43-9 x^44-3 x^45+9 x^46+6 x^47+3 x^48) y+(1+3 x-9 x^2-9 x^3+9 x^4-8 x^5+5 x^6-x^7+9 x^35-7 x^36+10 x^37+6 x^41-6 x^42-4 x^43+7 x^44-8 x^46-4 x^47) y^2+(2-6 x+9 x^2+3 x^4+9 x^5-x^6+3 x^7-10 x^8+3 x^9+10 x^38+9 x^39-5 x^40+5 x^41) y^8+(-2+8 x-3 x^2+6 x^3-2 x^4-3 x^5-4 x^7-x^8+2 x^9-2 x^10-x^36-7 x^37+9 x^38-7 x^39-6 x^40) y^9+(6-10 x-2 x^2-9 x^3+2 x^4+10 x^5-2 x^7-4 x^8+7 x^9-4 x^35+6 x^36) y^13+(-7+x+10 x^2-7 x^3-6 x^4-9 x^5+3 x^6-7 x^7) y^42+(3+3 x-9 x^2+7 x^4+2 x^5-8 x^6) y^43+(-1+x-4 x^2-6 x^3-x^4+3 x^5) y^44+(1+2 x+3 x^2+6 x^3-7 x^4) y^45+(9-9 x-7 x^2+9 x^3) y^46+(-6-9 x+5 x^2) y^47+(-3-2 x) y^48+6 y^49;
Discriminant[f, y]; // AbsoluteTiming
(*maple code:
restart:
f := -10 - 8*x + x^2 + 3*x^3 - 6*x^4 - 8*x^5 - 2*x^6 + 7*x^7 + 2*x^8 + 6*y^49 + 5*x^34 + x^49 - 8*x^37 + 9*x^35 - x^36 + (-8*x^6 + 2*x^5 + 7*x^4 - 9*x^2 + 3*x + 3)*y^43 + (3*x^5 - x^4 - 6*x^3 - 4*x^2 + x - 1)*y^44 + (-7*x^4 + 6*x^3 + 3*x^2 + 2*x + 1)*y^45 + (9*x^3 - 7*x^2 - 9*x + 9)*y^46 + (5*x^2 - 9*x - 6)*y^47 + (3*x^48 + 6*x^47 + 9*x^46 - 3*x^45 - 9*x^44 + 6*x^43 + x^42 + 10*x^41 - 7*x^40 - 6*x^39 - 5*x^38 + 3*x^12 - 10*x^11 + 2*x^10 + x^9 + 6*x^8 + 9*x^7 - 5*x^6 - 10*x^5 + 7*x^4 - 9*x^3 + x + 6)*y + (-4*x^47 - 8*x^46 + 7*x^44 - 4*x^43 - 6*x^42 + 6*x^41 + 10*x^37 - 7*x^36 + 9*x^35 - x^7 + 5*x^6 - 8*x^5 + 9*x^4 - 9*x^3 - 9*x^2 + 3*x + 1)*y^2 + (5*x^41 - 5*x^40 + 9*x^39 + 10*x^38 + 3*x^9 - 10*x^8 + 3*x^7 - x^6 + 9*x^5 + 3*x^4 + 9*x^2 - 6*x + 2)*y^8 + (-6*x^40 - 7*x^39 + 9*x^38 - 7*x^37 - x^36 - 2*x^10 + 2*x^9 - x^8 - 4*x^7 - 3*x^5 - 2*x^4 + 6*x^3 - 3*x^2 + 8*x - 2)*y^9 + (6*x^36 - 4*x^35 + 7*x^9 - 4*x^8 - 2*x^7 + 10*x^5 + 2*x^4 - 9*x^3 - 2*x^2 - 10*x + 6)*y^13 + (-7*x^7 + 3*x^6 - 9*x^5 - 6*x^4 - 7*x^3 + 10*x^2 + x - 7)*y^42 + (-3 - 2*x)*y^48 - 2*x^48 - x^47 + x^33:
time[real](discrim(f, y))
*)
(*about 28s and 3s *)
```

8. 

```mathematica
(*Solve/GroebnerBasis*)
f=32 x^10+400 x^9 y+176 x^10 y+2240 x^8 y^2+2272 x^9 y^2+648 x^10 y^2+7400 x^7 y^3+12776 x^8 y^3+6484 x^9 y^3-48 x^10 y^3+15970 x^6 y^4+41192 x^7 y^4+28070 x^8 y^4-1020 x^9 y^4-550 x^10 y^4+23525 x^5 y^5+84091 x^6 y^5+68643 x^7 y^5-6112 x^8 y^5-4289 x^9 y^5-149 x^10 y^5+23955 x^4 y^6+112892 x^5 y^6+103672 x^6 y^6-17447 x^7 y^6-13730 x^8 y^6-786 x^9 y^6+81 x^10 y^6+16650 x^3 y^7+99786 x^4 y^7+98987 x^5 y^7-27472 x^6 y^7-23093 x^7 y^7-1538 x^8 y^7+504 x^9 y^7+66 x^10 y^7+7560 x^2 y^8+56052 x^3 y^8+58329 x^4 y^8-24561 x^5 y^8-21524 x^6 y^8-1313 x^7 y^8+1171 x^8 y^8+318 x^9 y^8+36 x^10 y^8+2025 x y^9+18171 x^2 y^9+19386 x^3 y^9-11718 x^4 y^9-10543 x^5 y^9-396 x^6 y^9+1204 x^7 y^9+508 x^8 y^9+117 x^9 y^9+11 x^10 y^9+243 y^10+2592 x y^10+2781 x^2 y^10-2322 x^3 y^10-2121 x^4 y^10+17 x^5 y^10+461 x^6 y^10+266 x^7 y^10+91 x^8 y^10+16 x^9 y^10+x^10 y^10;
Solve[{f,D[f,x],D[f,y]}==0,{x,y}]//AbsoluteTiming
(*maple code:
restart:
f:=32 x^10+400 x^9 y+176 x^10 y+2240 x^8 y^2+2272 x^9 y^2+648 x^10 y^2+7400 x^7 y^3+12776 x^8 y^3+6484 x^9 y^3-48 x^10 y^3+15970 x^6 y^4+41192 x^7 y^4+28070 x^8 y^4-1020 x^9 y^4-550 x^10 y^4+23525 x^5 y^5+84091 x^6 y^5+68643 x^7 y^5-6112 x^8 y^5-4289 x^9 y^5-149 x^10 y^5+23955 x^4 y^6+112892 x^5 y^6+103672 x^6 y^6-17447 x^7 y^6-13730 x^8 y^6-786 x^9 y^6+81 x^10 y^6+16650 x^3 y^7+99786 x^4 y^7+98987 x^5 y^7-27472 x^6 y^7-23093 x^7 y^7-1538 x^8 y^7+504 x^9 y^7+66 x^10 y^7+7560 x^2 y^8+56052 x^3 y^8+58329 x^4 y^8-24561 x^5 y^8-21524 x^6 y^8-1313 x^7 y^8+1171 x^8 y^8+318 x^9 y^8+36 x^10 y^8+2025 x y^9+18171 x^2 y^9+19386 x^3 y^9-11718 x^4 y^9-10543 x^5 y^9-396 x^6 y^9+1204 x^7 y^9+508 x^8 y^9+117 x^9 y^9+11 x^10 y^9+243 y^10+2592 x y^10+2781 x^2 y^10-2322 x^3 y^10-2121 x^4 y^10+17 x^5 y^10+461 x^6 y^10+266 x^7 y^10+91 x^8 y^10+16 x^9 y^10+x^10 y^10:
time[real](solve({f,diff(f,x),diff(f,y)}))
*)
(*about 85s and 0.2s *)
```

9.

```mathematica
(*CoefficientList*)
CoefficientList[(a1 x1+a10 x10+a11 x11+a2 x2+a3 x3+a4 x4+a5 x5+a6 x6+a7 x7+a8 x8+a9 x9)^11//Expand ,{x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11}];//AbsoluteTiming
(*maple code:
restart:
time[real](coeffs(expand((a1*x1 + a10*x10 + a11*x11 + a2*x2 + a3*x3 + a4*x4 + a5*x5 + a6*x6 + a7*x7 + a8*x8 + a9*x9)^11), [x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11]));
*)
(*about 9s and 1.5s*)
```

10.

```mathematica
(*Root/AlgebraicNumber*)
ClearSystemCache[];
f=Function[{x,y},Evaluate@Expand[(x+y+1)^60]];
a=ToNumberField@Root[-12992+40546 #1-59434 #1^2-28068 #1^3+10027 #1^4+74288 #1^5+95220 #1^6&,1] ;
f[55424+10799 a+32924 a^2-94123 a^3-57476 a^4+16513 a^5, 49641-47101 a-37888 a^2-93639 a^3-63032 a^4-33804 a^5] //AbsoluteTiming
(*
maple code:
restart:
f := expand((x + y + 1)^60):
a := RootOf(95220*x^6 + 74288*x^5 + 10027*x^4 - 28068*x^3 - 59434*x^2 + 40546*x - 12992):
time[real](evala(Expand(subs({x = 16513*a^5 - 57476*a^4 - 94123*a^3 + 32924*a^2 + 10799*a + 55424, y = -33804*a^5 - 63032*a^4 - 93639*a^3 - 37888*a^2 - 47101*a + 49641}, f))));
*)
(*about 15s and 1.2s*)
```

可能的问题包括：

1. 是否存在其他运算存在显著速度差异的示例？
2. 造成这种显著速度差异的原因是什么？是否有改进的可能方法？
3. 在其他系统/版本上的表现如何？

----

有一个Mathematica比Maple更快的例子。

```mathematica
eq=RandomInteger[{-100,100},{200,300}].Table[x[i],{i,1,300}]; Solve[eq==0];//AbsoluteTiming 
(*maple code: 
eq := {seq(add(seq(rand(-100 .. 100)()*x[i], i = 1 .. 300)), j = 1 .. 200)}:
time[real](solve(eq))
*)
(*about 1.5s and 20s*)
```

---

根据Mark van Hoeij的评论，Maple在代数扩展上实现了更快的多项式最大公因式算法，这可能解释了第1、5和6点。

* https://www.math.fsu.edu/~hoeij/
* https://www.math.fsu.edu/~hoeij/papers/comments/issac2004.html
* https://www.math.fsu.edu/~hoeij/files/ConicProgram/COMMENT_Maple11

根据Gert的评论，Maple已实现了一种更先进的Gröbner基算法，这可能是第8点（性能差异）的原因。

* https://msolve.lip6.fr/
* https://hal.sorbonne-universite.fr/hal-03191666/document


Maple的`resultant`函数实现代码可通过`showstat(resultant)`查看，而Mathematica的实现代码不可见，这使得第7点（性能差异）难以解释。

----

根据 Jürgen Böhm 的评论，可以测试一些更基础的操作，测试结果如下：

* https://www.cecm.sfu.ca/CAG/papers/POLY.pdf

```mathematica
f = 31 + 45 x - 81 x^2 - 12 x^3 + 60 x^4 - 34 x^5 + 17 x^6 - x^7 + 
      89 x^8 + 45 x^9 - 46 x^10 - 11 x^11 - 36 x^12 + 55 x^13 - 
      16 x^14 - 30 x^15 - 65 x^16 - 46 x^17 + 59 x^18 + 35 x^19 - 
      29 x^20 + 29 x^21 - 40 x^22 - 15 x^23 + 79 x^24 - 5 x^25 + 
      10 x^26 - 31 x^27 - 77 x^28 + 45 x^29 + 34 x^30 - 84 x^31 + 
      31 x^32 - 71 x^33 + 67 x^34 + 41 x^35 - 80 x^36 - 29 x^37 - 
      13 x^38 + 8 x^39 + 36 x^40 - 98 x^41 - 92 x^42 + 92 x^43 + 
      34 x^44 + 99 x^45 - 59 x^46 - 67 x^47 - 41 x^48 + 2 x^49 - 
      70 x^50 + 73 x^51 - 64 x^52 - 45 x^53 - 54 x^54 + 34 x^55 - 
      29 x^56 + 38 x^57 + 44 x^58 - 47 x^59 + 95 x^60 + 67 x^61 - 
      26 x^62 - 61 x^63 - 80 x^64 + 88 x^65 - 20 x^66 - 11 x^67 + 
      2 x^68 + 79 x^69 + 62 x^70 - 9 x^71 + 45 x^72 - 36 x^73 + 
      74 x^74 - 61 x^75 - 53 x^76 - 60 x^77 - 71 x^78 + 4 x^79 + 
      33 x^80 + 5 x^81 - 22 x^82 - 71 x^83 - 43 x^84 + 45 x^85 - 
      35 x^86 - 22 x^88 - 52 x^89 - 44 x^90 + 51 x^91 - 7 x^92 + 
      85 x^93 - 75 x^94 + 39 x^95 + 8 x^96 - 48 x^97 + 34 x^98 + 
      46 x^99 - 48 x^100 /. {{}, {x -> y}, {x -> z}} // Times @@ # & //
    Expand;
Coefficient[f, x, 20]; // AbsoluteTiming
CoefficientList[f, x]; // AbsoluteTiming
fdeg[f, x]; // AbsoluteTiming
Exponent[f, x]; // AbsoluteTiming
D[f, x]; // AbsoluteTiming
f /. x -> 6; // AbsoluteTiming
Expand[2 x f]; // AbsoluteTiming
Not@FreeQ[f, x^101]; // AbsoluteTiming
Variables@f; // AbsoluteTiming
Coefficient[f, x, Exponent[f, x]]; // AbsoluteTiming
Level[f, 1]; // AbsoluteTiming
f /. x -> y; // AbsoluteTiming
f + O[x]^50; // AbsoluteTiming
PolynomialQ[f]; // AbsoluteTiming

(*maple code:
restart;
f := -48*x^100 + 46*x^99 + 34*x^98 - 48*x^97 + 8*x^96 + 39*x^95 - 75*x^94 + 85*x^93 - 7*x^92 + 51*x^91 - 44*x^90 - 52*x^89 - 22*x^88 - 35*x^86 + 45*x^85 - 43*x^84 - 71*x^83 - 22*x^82 + 5*x^81 + 33*x^80 + 4*x^79 - 71*x^78 - 60*x^77 - 53*x^76 - 61*x^75 + 74*x^74 - 36*x^73 + 45*x^72 - 9*x^71 + 62*x^70 + 79*x^69 + 2*x^68 - 11*x^67 - 20*x^66 + 88*x^65 - 80*x^64 - 61*x^63 - 26*x^62 + 67*x^61 + 95*x^60 - 47*x^59 + 44*x^58 + 38*x^57 - 29*x^56 + 34*x^55 - 54*x^54 - 45*x^53 - 64*x^52 + 73*x^51 - 70*x^50 + 2*x^49 - 41*x^48 - 67*x^47 - 59*x^46 + 99*x^45 + 34*x^44 + 92*x^43 - 92*x^42 - 98*x^41 + 36*x^40 + 8*x^39 - 13*x^38 - 29*x^37 - 80*x^36 + 41*x^35 + 67*x^34 - 71*x^33 + 31*x^32 - 84*x^31 + 34*x^30 + 45*x^29 - 77*x^28 - 31*x^27 + 10*x^26 - 5*x^25 + 79*x^24 - 15*x^23 - 40*x^22 + 29*x^21 - 29*x^20 + 35*x^19 + 59*x^18 - 46*x^17 - 65*x^16 - 30*x^15 - 16*x^14 + 55*x^13 - 36*x^12 - 11*x^11 - 46*x^10 + 45*x^9 + 89*x^8 - x^7 + 17*x^6 - 34*x^5 + 60*x^4 - 12*x^3 - 81*x^2 + 45*x + 31:
f := expand(mul([f, subs(x = y, f), subs(x = z, f)])):
time[real](coeff(f, x, 20));
time[real](coeffs(f, x));
time[real](degree(f));
time[real](degree(f, x));
time[real](diff(f, x));
time[real](eval(f, x = 6));
time[real](expand(2*x*f));
time[real](has(f, x^101));
time[real](indets(f));
time[real](lcoeff(f, x));
time[real](op(f));
time[real](subs(x = y, f));
time[real](taylor(f, x, 50));
time[real](type(f, polynom));
*)
```

---

补充四项测试。

```mathematica
(*PolynomialRemainder*)
{f,g}={Sum[(3i+4j)x^i y^j,{i,0,30},{j,0,30}],Sum[(i*j+2i+3j)x^i y^j,{i,0,30},{j,0,15}]};
PolynomialRemainder[ f , g,y];//AbsoluteTiming
(*maple code:
restart;
f := sum(sum((3*i + 4*j)*x^i*y^j, i = 0 .. 30), j = 0 .. 30):
g := sum(sum((i*j + 2*i + 3*j)*x^i*y^j, i = 0 .. 30), j = 0 .. 15):
time[real](rem(f, g, y));
*)
```

```mathematica
(*Together*)
f=Sum[Sum[(7i+8j+9i j+10)x^i y^j,{i,0,30}]/Sum[(3i+4j+5i j+6)x^i y^j,{i,0,30}],{j,0,30}];
Together@f ;//AbsoluteTiming
(*maple code:
restart;
f := sum(sum((9*i*j + 7*i + 8*j + 10)*x^i*y^j, i = 0 .. 30)/sum((5*i*j + 3*i + 4*j + 6)*x^i*y^j, i = 0 .. 30), j = 0 .. 30):
time[real](normal(f));
*)
```

```mathematica
(*Collect*)
f = Expand[(a + b + c + d + e)^50]; 
Collect[f, e]; // AbsoluteTiming
(*maple code
restart;
f := expand((a + b + c + d + e)^50):
time[real](collect(f, e));
*)
```

```mathematica
(*HornerForm*)
f = Expand[(a + b + c + d + e)^50]; 
HornerForm[f, {a, b, c, d, e}]; // AbsoluteTiming
(*maple code:
restart;
with(codegen):
f := expand((a + b + c + d + e)^50):
time[real](horner(f, [a, b, c, d, e]));
*)
```

| problem |            function            | Mathematica time (s) | Maple time (s) | ratio(mma/maple) |
| :-----: | :----------------------------: | :------------------: | :------------: | :--------------: |
|    1    |       Factor(extension)        |       10.5373        |     0.926      |     11.3794      |
|    2    |       MinimalPolynomial        |       5.82079        |     0.198      |     29.3979      |
|    3    |       Minimize(radical)        |          ∞           |     3.288      |      **∞**       |
|   4.1   |      Expand(multivariate)      |       4.23749        |     0.391      |     10.8376      |
|   4.2   |       Expand(trivariate)       |       1.97418        |     0.191      |      10.336      |
|    5    |       Factor(extension)        |        61.654        |     0.190      |     324.495      |
|    6    |    PolynomialGCD(extension)    |       435.839        |     0.016      |   **27239.9**    |
|    7    |     Resultant/Discriminant     |       26.1773        |     2.911      |     8.99255      |
|    8    |      Solve/GroebnerBasis       |       108.631        |     0.179      |   **606.877**    |
|    9    |        CoefficientList         |       6.98621        |     1.993      |     3.50537      |
|   10    |      Root/AlgebraicNumber      |       13.4268        |     1.220      |     11.0056      |
|   11    |          Coefficient           |       0.347959       |     0.003      |     115.986      |
|   12    |        CoefficientList         |       3.05618        |     0.058      |     52.6928      |
|   13    |            polydeg             |       Unknown        |       0.       |     Unknown      |
|   14    |            Exponent            |       0.607885       |     0.001      |   **607.885**    |
|   15    |               D                |       3.90317        |     0.016      |     243.948      |
|   16    |       ReplaceAll(value)        |        9.3498        |     0.082      |     114.022      |
|   17    |             Expand             |       1.81256        |     0.061      |     29.7141      |
|   18    |             FreeQ              |       0.150702       |     0.003      |      50.234      |
|   19    |           Variables            |       0.307896       |       0.       |     >307.896     |
|   20    |      Coefficient(leading)      |       1.24398        |     0.003      |      414.66      |
|   21    |             Level              |       0.707987       |     0.644      |     1.09936      |
|   22    |      ReplaceAll(variable)      |       5.51136        |     0.044      |     125.258      |
|   23    |             Series             |          ∞           |     0.025      |      **∞**       |
|   24    |          PolynomialQ           |        10.812        |     0.001      |    **10812.**    |
|   25    | PolynomialRemainder(bivariate) |       41.4636        |     0.364      |     113.911      |
|   26    |            Together            |        2.9693        |     0.595      |     4.99041      |
|   27    |            Collect             |       1.25493        |     0.038      |     33.0244      |
|   28    |           HornerForm           |       24.8349        |     1.108      |     22.4142      |

* 表1：时间对比（Mathematica 14.2与Maple 2024）
  测试平台：11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz   2.42 GHz, RAM 16.0 GB 

可以发现，即使是当前最新版本的Mathematica，其仍可能大幅落后于十年前的Maple版本，这表明它仍有巨大的改进空间。

### 参考

1. https://mathematica.stackexchange.com/questions/311157 
2. [FLINT: Fast Library for Number Theory](https://flintlib.org/)
3. [Multivariate Polynomial Systems Solving - msolve library](https://msolve.lip6.fr/)

